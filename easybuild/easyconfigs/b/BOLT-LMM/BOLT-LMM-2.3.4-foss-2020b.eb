easyblock = 'MakeCp'

name = 'BOLT-LMM'
version = '2.3.4'

homepage = 'https://storage.googleapis.com/broad-alkesgroup-public/BOLT-LMM/BOLT-LMM_manual.html'
description = """The BOLT-LMM software package currently consists of two main algorithms, 
the BOLT-LMM algorithm for mixed model association testing, and the BOLT-REML algorithm 
for variance components analysis (i.e., partitioning of SNP-heritability and estimation 
of genetic correlations)."""

toolchain = {'name': 'foss', 'version': '2020b'}

source_urls = [
    'https://storage.googleapis.com/broad-alkesgroup-public/%(name)s/downloads/',
    'https://storage.googleapis.com/broad-alkesgroup-public/%(name)s/downloads/old/'
]
sources = ['%(name)s_v%(version)s.tar.gz']
patches = ['BOLT-LMM-fix-makefile.patch']
checksums = [
    'd7b587ea1a3cc950084c3cc8bfd9b8a75ca90899ee286261e9ea7a2c7f4c777a',  # BOLT-LMM_v2.3.4.tar.gz
    '8006df7f7e745a0f89eb260f44434159677fa81cdd02adb6f62e6dc8c67fbef6',  # BOLT-LMM-fix-makefile.patch
]

dependencies = [
    ('Boost', '1.74.0'),
    ('NLopt', '2.6.2'),
]

start_dir = 'src'
files_to_copy = [(['bolt'], 'bin')]

sanity_check_paths = {
    'files': ['bin/bolt'],
    'dirs': [],
}

sanity_check_commands = ['bolt --help']

moduleclass = 'bio'
